{"version":3,"sources":["/Users/l.kuzenko/PERSONAL/ng-start/src/app/@core/interceptor/http-error.interceptor.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmBQ;;;;;;;;;;;;;;;;;;;;AAnBR,MAAA,MAAA;AAAA;AAAA,0BAAA,OAAA,CAAA,eAAA,CAAA,CAAA;AAGA,MAAA,WAAA;AAAA;AAAA,0BAAA,OAAA,CAAA,gBAAA,CAAA,CAAA;AAEA,MAAA,gBAAA;AAAA;AAAA,0BAAA,OAAA,CAAA,+BAAA,CAAA,CAAA;;;;AAKA,IAAa,oBAAoB,GAAjC,MAAa,oBAAb,CAAiC;AAC/B,EAAA,WAAA,CAAmB,aAAnB,EAA+C;AAAA;AAAA;AAAA;AAA5B,SAAA,aAAA,GAAA,aAAA;AAAgC;;AAEnD,EAAA,SAAS,CAAC,OAAD,EAA4B,IAA5B,EAA6C;AAAA;AAAA;AAAA;AACpD,SAAK,aAAL,CAAmB,OAAnB,CAA2B,IAA3B,EADoD,CAEpD;;AAFoD;AAAA;AAGpD,WAAO,IAAI,CAAC,MAAL,CAAY,OAAZ,EAAqB,IAArB,CACL,WAAA,CAAA,KAAA,CAAM,CAAN,CADK,EAEL,WAAA,CAAA,QAAA,CAAS,MAAK;AAAA;AAAA;AAAA;AACZ,WAAK,aAAL,CAAmB,OAAnB,CAA2B,KAA3B;AACD,KAFD,CAFK,CAAP;AAMD;;AAZ8B,CAAjC;;;;AAAa,oBAAoB,GAAA,OAAA,CAAA,UAAA,CAAA,CAHhC,MAAA,CAAA,UAAA,CAAW;AACV,EAAA,UAAU,EAAE;AADF,CAAX,CAGgC,E,yCACG,gBAAA,CAAA,a,EADH,CAAA,EAApB,oBAAoB,CAApB;;;;AAAA,OAAA,CAAA,oBAAA,GAAA,oBAAA","sourcesContent":["import { Injectable } from \"@angular/core\";\nimport { HttpEvent, HttpInterceptor, HttpHandler, HttpRequest } from \"@angular/common/http\";\nimport { Observable } from \"rxjs\";\nimport { finalize, retry } from \"rxjs/operators\";\n\nimport { LoaderService } from \"@core/services/loader.service\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class HttpErrorInterceptor implements HttpInterceptor {\n  constructor(public loaderService: LoaderService) {}\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    this.loaderService.display(true);\n    // If the call fails, retry until 2 times before throwing an error\n    return next.handle(request).pipe(\n      retry(2),\n      finalize(() => {\n        this.loaderService.display(false);\n      }),\n    );\n  }\n}\n"]}