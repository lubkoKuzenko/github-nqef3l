{"version":3,"sources":["/Users/l.kuzenko/PERSONAL/ng-start/src/app/unit-tests/directives/debounce-click.directive.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmBI;;;;;;;;;;;;;;;;;;;;AAnBJ,MAAA,MAAA;AAAA;AAAA,0BAAA,OAAA,CAAA,eAAA,CAAA,CAAA;AACA,MAAA,MAAA;AAAA;AAAA,0BAAA,OAAA,CAAA,MAAA,CAAA,CAAA;AACA,MAAA,WAAA;AAAA;AAAA,0BAAA,OAAA,CAAA,gBAAA,CAAA,CAAA;;;;AAKA,IAAa,sBAAsB,GAAnC,MAAa,sBAAb,CAAmC;AAOjC,EAAA,WAAA,GAAA;AAAA;AAAA;AAAA;AALA,SAAA,YAAA,GAAe,GAAf;;AAKA;AAAA;AAHA,SAAA,aAAA,GAAgB,IAAI,MAAA,CAAA,YAAJ,EAAhB;;AAGA;AAAA;AAFQ,SAAA,UAAA,GAAqC,IAAI,MAAA,CAAA,aAAJ,CAAkB,CAAlB,CAArC;AAEQ;;AAGhB,EAAA,UAAU,CAAC,KAAD,EAAkB;AAAA;AAAA;AAAA;AAC1B,IAAA,KAAK,CAAC,cAAN;;AAD0B;AAAA;AAE1B,IAAA,KAAK,CAAC,eAAN;;AAF0B;AAAA;AAG1B,SAAK,UAAL,CAAgB,IAAhB,CAAqB,IAArB;AACD;;AAED,EAAA,QAAQ,GAAA;AAAA;AAAA;AAAA;AACN,SAAK,UAAL,CAAgB,IAAhB,CAAqB,WAAA,CAAA,YAAA,CAAa,KAAK,YAAlB,CAArB,EAAsD,SAAtD,CAAiE,CAAD,IAAO;AAAA;AAAA;AAAA;AAAA,kBAAK,aAAL,CAAmB,IAAnB,CAAwB,CAAxB;AAA0B,KAAjG;AACD;;AAED,EAAA,WAAW,GAAA;AAAA;AAAA;AAAA;AACT,SAAK,UAAL,CAAgB,QAAhB;AACD;;AAtBgC,CAAnC;;;;;AAEE,OAAA,CAAA,UAAA,CAAA,CADC,MAAA,CAAA,KAAA,EACD,E,yCAAA,CAAA,E,gCAAA,E,cAAA,E,KAAmB,CAAnB;;;;;AAEA,OAAA,CAAA,UAAA,CAAA,CADC,MAAA,CAAA,MAAA,EACD,E,yCAAA,CAAA,E,gCAAA,E,eAAA,E,KAAmC,CAAnC;;;;;AAMA,OAAA,CAAA,UAAA,CAAA,CADC,MAAA,CAAA,YAAA,CAAa,OAAb,EAAsB,CAAC,QAAD,CAAtB,CACD,E,2CAAA,E,yCAAkB,U,EAAlB,E,+CAAA,CAAA,E,gCAAA,E,YAAA,EAIC,IAJD;;;;AAVW,sBAAsB,GAAA,OAAA,CAAA,UAAA,CAAA,CAHlC,MAAA,CAAA,SAAA,CAAU;AACT,EAAA,QAAQ,EAAE;AADD,CAAV,CAGkC,E,2CAAA,CAAA,EAAtB,sBAAsB,CAAtB;;;;AAAA,OAAA,CAAA,sBAAA,GAAA,sBAAA","sourcesContent":["import { Directive, EventEmitter, HostListener, Input, OnDestroy, OnInit, Output } from \"@angular/core\";\nimport { ReplaySubject } from \"rxjs\";\nimport { debounceTime } from \"rxjs/operators\";\n\n@Directive({\n  selector: \"[bbDebounceClick]\",\n})\nexport class DebounceClickDirective implements OnInit, OnDestroy {\n  @Input()\n  debounceTime = 500;\n  @Output()\n  debounceClick = new EventEmitter();\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\n\n  constructor() {}\n\n  @HostListener(\"click\", [\"$event\"])\n  clickEvent(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.destroyed$.next(true);\n  }\n\n  ngOnInit() {\n    this.destroyed$.pipe(debounceTime(this.debounceTime)).subscribe((e) => this.debounceClick.emit(e));\n  }\n\n  ngOnDestroy() {\n    this.destroyed$.complete();\n  }\n}\n"]}